<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data</title>

<script src="Data_practical_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Data_practical_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Data_practical_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Data_practical_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Data_practical_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Data_practical_files/navigation-1.1/tabsets.js"></script>
<link href="Data_practical_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Data_practical_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="practical.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data</h1>
<h4 class="author"><table style='table-layout:fixed;width:100%;border:0;padding:0;margin:0'>
<col width='10%'>
<col width='10%'>
<tr style="border:none">
<td style="display:block;width:100%;text-align:left;vertical-align:bottom;padding:0;margin:0;border:none" nowrap>
<font style='font-style:normal'>Introduction to R</font><br> <a href='https://dwulff.github.io/Intro2R_Unibe/'> <i class='fas fa-clock' style='font-size:.9em;' ></i> </a> <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;'></i> </a> <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a> <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a> <a href='https://therbootcamp.github.io'> <font style='font-style:normal'>Bern R Bootcamp</font> </a>
</td>
<td style="width:100%;vertical-align:bottom;text-align:right;padding:0;margin:0;border:none">
<img src='https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png' style='height:15px;width:80px'/>
</td>
</tr>
</table></h4>

</div>


<p align="center" width="100%">
<img src="https://www.methodspace.com/wp-content/uploads/2018/02/Big-data-slider_GEBI.jpg" alt="Trulli" style="width:100%;height:280px"> <br> <font style="font-size:10px">from <a href="https://www.methodspace.com">methodspace.com</a></font>
</p>
<div id="section" class="section level1 tabset tabset-fade">
<h1></h1>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>In this practical you’ll learn how to work with basic data objects and functions. By the end of this practical you will know how to:</p>
<ol style="list-style-type: decimal">
<li>Create vectors of different types using <code>c()</code></li>
<li>Understand the three main vector classes numeric, character, and logical using <code>class()</code></li>
<li>Calculate basic descriptive statistics using <code>mean()</code>, <code>median()</code>, <code>table()</code> (and more!)</li>
<li>Read and write data of various data formats using <code>read_csv()</code> and others</li>
<li>Access and change vectors from data frames using <code>$</code></li>
<li>Create <code>data.frames</code> and <code>tibbles</code> using <code>data.frame()</code> and <code>tibble()</code></li>
</ol>
</div>
<div id="tasks" class="section level2">
<h2>Tasks</h2>
<div id="a---getting-setup" class="section level3">
<h3>A - Getting setup</h3>
<ol style="list-style-type: decimal">
<li><p>Open your <code>BernRBootcamp</code> R project. It should already have the folders <code>1_Data</code> and <code>2_Code</code>.</p></li>
<li><p>Open a new R script and save it as a new file called <code>data_practical.R</code> in the <code>2_Code</code> folder. At the top of the script, using comments, write your name and the date. Then, load all package(s) listed in the Packages section above with <code>library()</code>. Make sure that each of the datasets listed above lie in your <code>1_Data</code> folder.</p></li>
</ol>
</div>
<div id="b---creating-vectors" class="section level3">
<h3>B - Creating vectors</h3>
<p>The table below shows results from a (fictional) survey of 10 Baselers. In the first part of this practical, you will convert this table to R objects and then analyse them!</p>
<table>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">sex</th>
<th align="left">age</th>
<th align="left">height</th>
<th align="left">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">male</td>
<td align="left">44</td>
<td align="left">174.3</td>
<td align="left">113.4</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">male</td>
<td align="left">65</td>
<td align="left">180.3</td>
<td align="left">75.2</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">female</td>
<td align="left">31</td>
<td align="left">168.3</td>
<td align="left">55.5</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">male</td>
<td align="left">27</td>
<td align="left">209</td>
<td align="left">93.8</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">male</td>
<td align="left">24</td>
<td align="left">176.7</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">male</td>
<td align="left">63</td>
<td align="left">186.6</td>
<td align="left">67.4</td>
</tr>
<tr class="odd">
<td align="left">7</td>
<td align="left">male</td>
<td align="left">71</td>
<td align="left">151.6</td>
<td align="left">83.3</td>
</tr>
<tr class="even">
<td align="left">8</td>
<td align="left">female</td>
<td align="left">41</td>
<td align="left">155.7</td>
<td align="left">67.8</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">male</td>
<td align="left">43</td>
<td align="left">176.1</td>
<td align="left">69.3</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">female</td>
<td align="left">31</td>
<td align="left">166.1</td>
<td align="left">66.3</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Create a numeric vector called <code>id</code> that shows the id values. When you finish, print the vector object to see it!</li>
</ol>
<pre class="r"><code># Create a vector id
XX &lt;- c(XX, XX, ...)

# Print the vector id
XX</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Using the <code>class()</code> function, check the class of your <code>id</code> vector. Is it <code>"numeric"</code>?</li>
</ol>
<pre class="r"><code># Show the class of an object XX
class(XX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Using the <code>length()</code> function, find out the length of your <code>id</code> vector. Does it have length 10? If not, make sure you defined it correctly!</li>
</ol>
<pre class="r"><code># Show the length of the id vector
length(XX)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Create a character vector called <code>sex</code> that shows the sex values. Make sure to use quotation marks "" to enclose each element to tell R that the data are of type <code>"character"</code>! When you finish, print the object to see it!</li>
</ol>
<pre class="r"><code># Create a character vector sex
XX &lt;- c(&quot;XX&quot;, &quot;XX&quot;, &quot;...&quot;)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>Using the <code>class()</code> function, check the class of your <code>sex</code> vector. Is it <code>"character"</code>?</p></li>
<li><p>Using the <code>length()</code> function, find out the length of your <code>sex</code> object. Does it have length 10? If not, make sure you defined it correctly!</p></li>
<li><p>Using the same steps as before, create a <code>age</code> and <code>height</code> vector.</p></li>
<li><p>Look at the weight data, you’ll notice it contains an missing value. Create a vector called <code>weight</code> containing these data, following the same steps as before, making sure to specify the missing value as <code>NA</code> (no quotation marks).</p></li>
</ol>
</div>
<div id="c---functions" class="section level3">
<h3>C - Functions</h3>
<ol style="list-style-type: decimal">
<li><p>Using the <code>table()</code> function, find out how many males and females are in the data. You should find 7 males and 3 females!</p></li>
<li><p>Using the <code>mean()</code> function, calculate the mean <code>age</code>. It should be 44!</p></li>
<li><p>Try calculating the mean value of <code>sex</code>. What happens? Why?</p></li>
<li><p>Try calculating the mean <code>weight</code>. You should get an <code>NA</code> value. Why?</p></li>
<li><p>Look at the help menu for the <code>mean()</code> function (using <code>?mean</code>) to look for an argument that will help you with your problem.</p></li>
<li><p>Using the correct argument for the mean function, calculate the mean weight ignoring <code>NA</code> values. It should be 76.89!</p></li>
</ol>
</div>
<div id="d---read-write-delim-separated-text-files" class="section level3">
<h3>D - Read &amp; write delim-separated text files</h3>
<p>In this section, you will read in a subset of the well known diamonds data set and prepare it for data analysis.</p>
<ol style="list-style-type: decimal">
<li>Identify the file path to the <code>diamonds.csv</code> dataset using the <code>""</code> (quotation marks) auto-complete trick. Place the cursor between two quotation marks, hit ⇥ (tab-key), and browse through the folders. Save the file path, for now, in an object called <code>diamonds_path</code>.</li>
</ol>
<pre class="r"><code># place cursor in-between &quot;&quot; and hit tab
diamonds_path &lt;- &quot;&quot;</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Now use the Using <code>diamonds_path</code> insdide the <code>read_csv()</code> function to read in the <code>diamonds.csv</code> dataset. Store it as a new object called <code>diamonds</code>.</li>
</ol>
<pre class="r"><code># read diamonds data
diamonds &lt;- read_csv(file = XX)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Print the <code>diamonds</code> data and inspect the column names in the header line. Something’s wrong!</p></li>
<li><p>Fix the header by reading in the data again using the <code>col_names</code>-argument. Assign to <code>col_names</code> a character vector containing the correct column names: <code>carat</code>, <code>cut</code>, <code>color</code>, <code>clarity</code>, <code>depth</code>, <code>table</code>, <code>price</code>.</p></li>
</ol>
<pre class="r"><code># read diamonds data with specified col_names
diamonds &lt;- read_csv(file = &quot;XX&quot;, 
                     col_names = c(&#39;name_1&#39;,&#39;name_2&#39;,&#39;...&#39;))  # Vector of column names</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>Re-inspect the header by printing the data. Has the header been fixed?</p></li>
<li><p>Now pay attention to the classes of the individuals columns (variables). Have all classes been identified correctly? What about the <code>carat</code> column? It should be <code>numeric</code>, right?</p></li>
<li><p>Let’s see what went wrong. Select and print the <code>carat</code> variable to identify the one entry that caused the variable to become a <code>character</code> vector (Hint: look for a comma between entry 10 and 20).</p></li>
<li><p>Change the incorrectly formated entry in <code>carat</code> by replacing <code>XX</code> with the index of the incorrect value (i.e., the correct number between 10 and 20) and <code>YY</code> with the correct entry with a period (<code>.</code>) instead of a comma (<code>,</code>) in the code below.</p></li>
</ol>
<pre class="r"><code># Change the value at position XX to YY
diamonds$carat[XX] &lt;- YY</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Ok you fixed the value but <code>carat</code> is still <code>character</code>. We can fix it with the <code>type_convert()</code> function. Apply the <code>type_convert()</code> function to the <code>diamonds</code> data to have R fix all the data types. Make sure to assign the result back to <code>diamonds</code> so that you change the object!</li>
</ol>
<pre class="r"><code># re-infer data types
diamonds &lt;- type_convert(diamonds)</code></pre>
<ol start="10" style="list-style-type: decimal">
<li><p>Print the <code>diamonds</code> object and look at the column types. Has the type of <code>carat</code> changed to <code>double</code>?</p></li>
<li><p>Write the, now, properly formatted diamonds data to your data folder as a <code>.csv</code> file using the name <code>diamonds_clean.csv</code>. Don’t forget to include both the file name and the folder (separated by <code>/</code>) in the character string specifying the <code>path</code> argument.</p></li>
</ol>
<pre class="r"><code># write clean diamonds data to disc
write_csv(x = XX, path = &quot;XX&quot;)</code></pre>
<ol start="12" style="list-style-type: decimal">
<li><p>Read <code>diamonds_clean.csv</code> back into R as a new object called <code>diamonds_clean</code>. Then, print the object and verify that this time the types been correctly identified from the start.</p></li>
<li><p>The data is now ready for analysis. Explore it a bit by calculating a few statistics. For instance, what is the average <code>carat</code> or <code>price</code> (use <code>mean()</code>)? What <code>cut</code> and <code>clarity</code> levels exist and how often do they occur (use <code>table()</code> on both variables)? You can learn more about the variable values from the help file <code>?diamonds</code>.</p></li>
</ol>
</div>
<div id="e---logical-vectors-and" class="section level3">
<h3>E - Logical Vectors and <code>$</code></h3>
<ol style="list-style-type: decimal">
<li>Logical vectors contain as values only <code>TRUE</code> and <code>FALSE</code> (and <code>NA</code>s). Create a new logical vector called <code>expensive</code> indicating which diamonds are more expensive than $10000. To do this, select the <code>price</code> variable from the data frame using <code>$</code> use the <code>&gt;</code> (greater than) operator á la <code>vector &gt; value</code>.</li>
</ol>
<pre class="r"><code># Create a logical vector expensive indicating
# which dimaonds cost more than 10,000

ZZ &lt;- diamonds$XX &gt; YY</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Print your <code>expensive</code> vector to the console. Do you see only TRUE and FALSE values? If so, do the first few values match those in the <code>price</code> variable?</p></li>
<li><p>Add your <code>expensive</code> vector to the diamonds data frame using <code>data_frame$variable_name &lt;- variable</code>. See below?</p></li>
</ol>
<pre class="r"><code># add vector to data frame
XX$YY &lt;- ZZ</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><p>Using the <code>table()</code> function, create a table showing how many of the diamonds are expensive how many are not. Select the variable directly from the data frame using <code>$</code>.</p></li>
<li><p>Using the <code>mean()</code> function, determine the percentage of the diamonds that are expensive, i.e., <code>mean(expensive)</code>. Should this have worked?</p></li>
<li><p>What percent diamonds weigh more than 1 <code>carat</code> (i.e., more than .2 gram)?</p></li>
</ol>
</div>
<div id="f---read-other-file-formats" class="section level3">
<h3>F - Read other file formats</h3>
<div id="excel" class="section level4">
<h4>Excel</h4>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Microsoft_Excel_2013_logo.svg/2000px-Microsoft_Excel_2013_logo.svg.png" width="8%" style="display: block; margin: auto auto auto 0;" /></p>
<ol style="list-style-type: decimal">
<li>Using <code>read_excel()</code>, read in the <code>titanic.xls</code> dataset as a new object called <code>titanic</code> (Make sure you have alredy loaded the <code>readxl</code> package at the beginning of your script).</li>
</ol>
<pre class="r"><code>titanic &lt;- read_excel(path = &quot;XX&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Print <code>titanic</code> and evaluate its dimensions using <code>dim()</code>.</p></li>
<li><p>Using <code>table()</code>, how many people survived (variable <code>survived</code>) in each cabin class (variable <code>pclass</code>)?</p></li>
</ol>
<pre class="r"><code># determine survival rate by cabin class
table(titanic$XX, 
      titanic$XX)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Using <code>write_csv()</code>, write the <code>titanic</code> dataframe as a new comma separated text file called <code>titanic.csv</code> in your <code>1_Data</code> folder. Now you have the data saved as a text file any software can use!</li>
</ol>
</div>
<div id="spss" class="section level4">
<h4>SPSS</h4>
<p><img src="http://www.sqlearn.gr/wp-content/uploads/2010/12/2000px-SPSS_logo.jpg" width="8%" style="display: block; margin: auto auto auto 0;" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Using <code>read_spss()</code> read in the sleep data set <code>sleep.sav</code> of staff at he University of Melbourne as a new object called <code>sleep</code>. (Make sure that you have first loaded the <code>haven</code> package).</li>
</ol>
<pre class="r"><code>XX &lt;- read_spss(file = &quot;XX&quot;)</code></pre>
<ol start="6" style="list-style-type: decimal">
<li><p>Print your <code>sleep</code> object and evaluate its dimensions using <code>dim()</code>.</p></li>
<li><p>How many drinks do staff at the University of Melbourne consumer per day (variable <code>alcohol</code>). To do this, use the <code>mean()</code> function, while taking care of missing values using the <code>na.rm</code> argument.</p></li>
<li><p>Using the <code>write_csv()</code> function, write the <code>sleep</code> data to a new file called <code>sleep.csv</code> in your <code>1_Data</code> folder. Now you have the <code>sleep</code> data stored as a text file any software can use!</p></li>
</ol>
</div>
<div id="sas" class="section level4">
<h4>SAS</h4>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/1/10/SAS_logo_horiz.svg" width="8%" style="display: block; margin: auto auto auto 0;" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Using <code>read_sas()</code>, read in <code>airbnb_zuerich.sas7bdat</code> containing AirBnB listings in Zürich, Switzerland and call the object <code>airbnb_zuerich</code>.</li>
</ol>
<pre class="r"><code># read sas data
XX &lt;- read_sas(data_file = &quot;XX&quot;)</code></pre>
<ol start="10" style="list-style-type: decimal">
<li><p>Print <code>airbnb_zuerich</code> and then evaluate its dimensions using <code>dim()</code>.</p></li>
<li><p>How many AirBnB listings were there of each <code>room_type</code> in Zürich? (Hint: use <code>table()</code>)</p></li>
<li><p>Using <code>write_csv()</code> write your <code>airbnb_zuerich</code> data frame to as new comma-separated text file called <code>airbnb_zuerich.csv</code> in your <code>1_Data</code> folder.</p></li>
</ol>
</div>
</div>
<div id="g---creating-data-frames" class="section level3">
<h3>G - Creating data frames</h3>
<ol style="list-style-type: decimal">
<li>Using the <code>data.frame()</code> function, create a data frame called <code>ten_df</code> that contains each of the vectors you just created: <code>id</code>, <code>age</code>, <code>sex</code>, <code>height</code>, <code>weight</code>.</li>
</ol>
<pre class="r"><code># Create data frame ten_df containing vectors id, age, sex, height, and weight.
XX &lt;- data.frame(XX, XX, XX, XX, XX, XX) </code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Print your <code>ten_df</code> object to see how it looks! Does it contain all of the vectors?</p></li>
<li><p>Using the <code>dim()</code> function, print the number of rows and columns in your data frame. Do you get 10 rows and 5 columns?</p></li>
<li><p>What is the class of your <code>ten_df</code> object? Use the <code>class()</code> function to find out!</p></li>
<li><p>Use the <code>summary()</code> function to print descriptive statistics from each column of <code>ten_df</code></p></li>
<li><p>Using the <code>$</code> operator, print the <code>age</code> column from the <code>ten_df</code> data frame.</p></li>
<li><p>Calculate the maximum <code>age</code> value from the <code>ten_df</code> data frame using <code>max()</code>. Do you get the same result from when you calculated it from the original vector <code>age</code>?</p></li>
<li><p>Instead of creating a data frame of the data using the <code>data.frame()</code> function, try creating a tibble called <code>ten_tibble</code> using the <code>tibble()</code> function. <code>tibble</code>s are a more modern, leaner variant of data frame that we prefer over classic <code>data.frame</code>. You can use the exact same arguments you used before.</p></li>
<li><p>Print your new <code>ten_tibble</code> object, how does it look different from <code>ten_df</code>? Try calculating the maximum <code>age</code> from this object. Is it different from what you got before?</p></li>
</ol>
</div>
<div id="x---challenges" class="section level3">
<h3>X - Challenges</h3>
<ol style="list-style-type: decimal">
<li>If you take the <code>sum()</code> of a logical vector, R will return the number of cases that are <code>TRUE</code>. Using this, find out how many of the ten Baselers are male while using the is-equal-to operator <code>==</code>.</li>
</ol>
<pre class="r"><code># Determine the frequency of a case in a vector
sum(XX == XX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>You can use logical vectors to select rows from a data frame based on certain criteria. using the following template, get the id values of Baselers who are younger than 30:</li>
</ol>
<pre class="r"><code># Create a logical vector indicating which baselers are younger than 30
young_30 &lt;- XX$XX &lt; 30

# Print the ids of baselers younger than 30
XX$XX[young_30]</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Use a combination of logical vectors and the <code>mean()</code> function to answer the question: “What is the mean age of Baselers who are heavier than 80kg?”</p></li>
<li><p>What are the id values of Baselers who are male <em>and</em> are shorter than 165cm? (Hint: You will need to use the logical AND operator <code>&amp;</code> to combine multiple logical vectors)</p></li>
</ol>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<pre class="r"><code>library(tidyverse)
library(readr)
library(readxl)
library(haven)

# Create vectors of (fake) stock data
name      &lt;- c(&quot;apple&quot;, &quot;microsoft&quot;, &quot;dell&quot;, &quot;google&quot;, &quot;twitter&quot;)
yesterday &lt;- c(100, 89, 65, 54, 89)
today     &lt;- c(102, 85, 72, 60, 95)

# Summary statistics
mean(today)
mean(yesterday)

# Show classes
class(name)
class(yesterday)

# Operations of vectors
change &lt;- today - yesterday
change # Print result

# Create a logical vector from two numerics
increase &lt;- today &gt; yesterday
increase # Print result

# Create a tibble combining multiple vectors
stocks &lt;- tibble(name, yesterday, today, change, increase)

# Get column names
names(stocks)

# Access columns by name
stocks$name
stocks$today

# Calculate descriptives on columns
mean(stocks$yesterday)
median(stocks$today)
table(stocks$increase)
max(stocks$increase)


# read/write delim-separated -------------------

# read chickens data
chickens &lt;- read_csv(file = &quot;1_Data/chickens.csv&quot;)

# fix header of chickens_nohead.csv with known column names
chickens &lt;- read_csv(file = &quot;1_Data/chickens_nohead.csv&quot;,
                     col_names = c(&quot;weight&quot;, &quot;time&quot;, &quot;chick&quot;, &quot;diet&quot;))

# fix NA values of chickens_na.csv
chickens &lt;- read_csv(file = &quot;1_Data/chickens_na.csv&quot;,
                     na = c(&#39;NA&#39;, &#39;NULL&#39;))

# write clean data to disc
write_csv(x = chickens, 
          path = &quot;1_Data/chickens_clean.csv&quot;)

# fix types -------------------
# Note: the survey data is fictional!

# remove character from rating
survey$rating[survey$rating == &quot;2,1&quot;] &lt;- 2.1

# rerun type convert
survey &lt;- type_convert(survey)

# other formats -------------------

# .xlsx (Excel)
chickens &lt;- read_excel(&quot;1_Data/chickens.xlsx&quot;)

# .sav (SPSS)
chickens &lt;- read_spss(&quot;1_Data/chickens.sav&quot;)

# .sad7bdata (SAS)
chickens &lt;- read_sas(&quot;1_Data/chickens.sas7bdat&quot;)</code></pre>
</div>
<div id="datasets" class="section level2">
<h2>Datasets</h2>
<table>
<colgroup>
<col width="8%" />
<col width="10%" />
<col width="11%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Rows</th>
<th align="left">Columns</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/diamonds.csv">diamonds.csv</a></td>
<td align="left">100</td>
<td align="left">7</td>
<td align="left">Subset of the well-known diamonds data set containing specifications and prices of a large number of recorded diamonds.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/titanic.xls">titanic.xls</a></td>
<td align="left">1309</td>
<td align="left">14</td>
<td align="left">Information on the survival of titanic passengers.</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/sleep.sav">sleep.sav</a></td>
<td align="left">271</td>
<td align="left">55</td>
<td align="left">Survey on sleeping behavior completed by staff at the University of Melbourne.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/airbnb_zuerich.sas7bdat">airbnb_zuerich.sas7bdat</a></td>
<td align="left">2392</td>
<td align="left">20</td>
<td align="left">Data on AirBnB listings in Zürich, Switzerland</td>
</tr>
</tbody>
</table>
</div>
<div id="functions" class="section level2">
<h2>Functions</h2>
<div id="packages" class="section level3">
<h3>Packages</h3>
<table>
<thead>
<tr class="header">
<th align="left">Package</th>
<th align="left">Installation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>tidyverse</code></td>
<td align="left"><code>install.packages("tidyverse")</code></td>
</tr>
<tr class="even">
<td align="left"><code>readr</code></td>
<td align="left"><code>install.packages("readr")</code></td>
</tr>
<tr class="odd">
<td align="left"><code>haven</code></td>
<td align="left"><code>install.packages("haven")</code></td>
</tr>
<tr class="even">
<td align="left"><code>readxl</code></td>
<td align="left"><code>install.packages("readxl")</code></td>
</tr>
</tbody>
</table>
</div>
<div id="functions-1" class="section level3">
<h3>Functions</h3>
<p><em>Creating vectors</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>c("a", "b", "c")</code></td>
<td align="left">Create a character vector</td>
</tr>
<tr class="even">
<td align="left"><code>c(1, 2, 3)</code></td>
<td align="left">Create a numeric vector</td>
</tr>
<tr class="odd">
<td align="left"><code>c(TRUE, FALSE, TRUE)</code></td>
<td align="left">Create a logical vector</td>
</tr>
</tbody>
</table>
<p><em>Vector functions</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>mean(x), median(x), sd(x), sum(x)</code></td>
<td align="left">Mean, median standard deviation, sum</td>
</tr>
<tr class="even">
<td align="left"><code>max(x), min(x)</code></td>
<td align="left">Maximum, minimum</td>
</tr>
<tr class="odd">
<td align="left"><code>table(x)</code></td>
<td align="left">Table of frequency counts</td>
</tr>
<tr class="even">
<td align="left"><code>round(x, digits)</code></td>
<td align="left">Round a numeric vector x to <code>digits</code></td>
</tr>
</tbody>
</table>
<p><em>Accessing vectors from data frames</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>df$name</code></td>
<td align="left">Access vector <code>name</code> from a data frame <code>df</code></td>
</tr>
</tbody>
</table>
<p><em>Reading/writing text data</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Extension</th>
<th align="left">File Type</th>
<th align="left">Read</th>
<th align="left">Write</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>.csv</code></td>
<td align="left">Comma-separated text</td>
<td align="left"><code>read_csv(file)</code></td>
<td align="left"><code>write_csv(x, file)</code></td>
</tr>
<tr class="even">
<td align="left"><code>.csv</code></td>
<td align="left">Semi-colon separated text</td>
<td align="left"><code>read_csv2(file)</code></td>
<td align="left"><em>not available</em></td>
</tr>
<tr class="odd">
<td align="left"><code>.txt</code></td>
<td align="left">Other text</td>
<td align="left"><code>read_delim(file)</code></td>
<td align="left"><code>write_delim(x, file)</code></td>
</tr>
</tbody>
</table>
<p><em>Reading/writing other data formats</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Extension</th>
<th align="left">File Type</th>
<th align="left">Read</th>
<th align="left">Write</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>.xls</code>, <code>.xlsx</code></td>
<td align="left">Excel</td>
<td align="left"><code>read_excel(file)</code></td>
<td align="left"><code>xlsx::write.xlsx()</code></td>
</tr>
<tr class="even">
<td align="left"><code>.sav</code></td>
<td align="left">SPSS</td>
<td align="left"><code>read_spss(file)</code></td>
<td align="left"><code>write_spss(x, file)</code></td>
</tr>
<tr class="odd">
<td align="left"><code>.sas7bdat</code></td>
<td align="left">SAS</td>
<td align="left"><code>read_sas(file)</code></td>
<td align="left"><code>write_sas(x, file)</code></td>
</tr>
</tbody>
</table>
<p><em>Creating data frames from vectors</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>data.frame(a, b, c)</code></td>
<td align="left">Create a data frame from vectors a, b, c</td>
</tr>
<tr class="even">
<td align="left"><code>tibble(a, b, c)</code></td>
<td align="left">Create a tibble from vectors a, b, c</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="resources" class="section level2">
<h2>Resources</h2>
<ul>
<li>For more information on the fundamentals of object and functions in R see the R Core team’s <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html">introduction to R</a> and for even more advanced object and function-related topics Hadley Wickham’s <a href="http://adv-r.had.co.nz/">Advanced R</a>.</li>
<li>For more information on reading and writing (and everything else) see Grolemund`s and Wickham’s <a href="http://r4ds.had.co.nz/data-import.html">R for Data Science</a>.</li>
</ul>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
